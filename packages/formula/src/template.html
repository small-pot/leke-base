<div class="tabMenu">
    <ul class="tabTitle">
        <li class="current">
            <i class="icon">
                <svg width="1em" height="1em" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g transform="translate(1.000000, 1.000000)" fill="currentColor" fill-rule="nonzero">
                            <path d="M15.8611521,8.12555391 C15.9763663,8.01033973 16.0886263,7.90103397 16.2008863,7.90103397 L17.7725258,7.90103397 C17.8847858,7.90103397 18,7.79172821 18,7.67651403 L18,5.87444609 C18,5.76514032 17.8847858,5.64992614 17.7725258,5.64992614 L15.9763663,5.64992614 C15.8611521,5.64992614 15.6395864,5.76514032 15.6395864,5.87444609 L13.7282127,7.90103397 C13.6129985,8.01033973 13.5036928,8.01033973 13.5036928,7.90103397 L12.4874446,5.87444609 C12.3781388,5.76514032 12.2658789,5.64992614 12.1536189,5.64992614 L9.22895126,5.64992614 C9.11669129,5.64992614 9.00443131,5.76514032 9.00443131,5.87444609 L9.00443131,7.67355982 C9.01036642,7.79501547 9.10749561,7.89214466 9.22895126,7.89807976 L11.028065,7.89807976 C11.140325,7.89807976 11.2525849,8.00738552 11.3648449,8.1225997 L12.0413589,9.58197932 L12.0413589,9.92171344 L10.014771,12.282127 C9.90251108,12.282127 9.79025111,12.3973412 9.67799114,12.3973412 L8.10339734,12.3973412 C7.99113737,12.3973412 7.8788774,12.5125554 7.8788774,12.6218612 L7.8788774,14.4209749 C7.8788774,14.5302806 7.99113737,14.6454948 8.10339734,14.6454948 L9.90251108,14.6454948 C10.014771,14.6454948 10.239291,14.5302806 10.239291,14.4209749 L12.8271787,11.4963072 C12.9394387,11.3810931 13.0516987,11.3810931 13.0516987,11.4963072 L14.5110783,14.4209749 C14.5110783,14.5302806 14.7385524,14.6454948 14.8478582,14.6454948 L16.6469719,14.6454948 C16.7592319,14.6454948 16.8744461,14.5302806 16.8744461,14.4209749 L16.8744461,12.6248154 C16.8744461,12.5155096 16.7592319,12.4002954 16.6469719,12.4002954 L15.9734121,12.4002954 C15.8581979,12.4002954 15.7488922,12.2850812 15.6366322,12.1757755 L14.5081241,9.92466765 L14.5081241,9.58493353 L15.8611521,8.12555391 M6.6351551,1.1506647 C5.9248157,1.72956167 5.41431665,2.51701161 5.17577548,3.40177253 L4.61447563,5.65288035 L1.35302806,5.65288035 C1.24076809,5.65288035 1.12850812,5.76809453 1.12850812,5.8774003 L1.12850812,7.67651403 C1.13444323,7.79796968 1.23157242,7.89509887 1.35302806,7.90103397 L4.05022157,7.90103397 L2.36632201,14.6514032 C2.02658789,16.0014771 1.12850812,15.7769572 1.12850812,15.7769572 L0,15.7769572 L0,18.028065 L1.12555391,18.028065 C2.02363368,18.028065 2.92466765,17.9128508 3.37666174,17.3545052 C3.9379616,16.7961595 4.27769572,15.7799114 4.49926145,14.6543575 L6.18611521,7.90398818 L8.77400295,7.90398818 C8.88921713,7.90398818 9.0014771,7.79468242 9.0014771,7.67946824 L9.0014771,5.87444609 C9.0014771,5.76514032 8.88921713,5.64992614 8.77400295,5.64992614 L6.74741507,5.64992614 L7.30871492,3.5140325 C7.42097489,3.17429838 7.98522895,2.61299852 8.32200886,2.38847858 C9.55982275,1.48744461 11.2466765,2.04874446 12.3722304,2.2732644 L12.3722304,0.364844904 C11.2496307,0.140324963 8.77400295,-0.64549483 6.6351551,1.1506647" id="形状"></path>
                        </g>
                    </g>
                </svg>
            </i>
            <span>选择公式</span>
        </li>
        <li>
            <i class="icon icon-handle">
                <svg width="1em" height="1em" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g transform="translate(1.000000, 1.000000)" fill="currentColor" fill-rule="nonzero">
                            <path d="M17.8042474,16.8419894 C17.6457966,16.7363556 14.4239657,14.3067782 6.76551497,16.2081866 C2.75143047,17.2117077 0.691571319,16.7363556 0.691571295,16.7363556 C0.427486779,16.6835387 0.110585371,16.8419894 0.0577684777,17.1060739 C0.00495158451,17.3701585 0.163402289,17.6870599 0.427486804,17.7398768 C0.480303697,17.7398768 1.06128962,17.8983275 2.11762763,17.8983275 C3.22678256,17.8983275 4.8641065,17.7398768 6.97678257,17.2117077 C14.0542474,15.46875 17.0648107,17.634243 17.0648107,17.634243 C17.2760783,17.7926937 17.6457967,17.7926937 17.8042474,17.5286092 C18.0683319,17.3701585 18.0155149,17.0004401 17.8042474,16.8419894 L17.8042474,16.8419894 Z M0.163402289,14.8349472 C0.216219182,14.8349472 0.216219182,14.8877641 0.2690361,14.8877641 L0.321852993,14.8877641 C0.374669886,14.8877641 0.374669886,14.8877641 0.427486804,14.940581 L0.585937508,14.940581 L5.23382482,13.8314261 C5.28664172,13.8314261 5.39227553,13.7786092 5.44509242,13.7257923 L17.434529,4.21875 L16.90636,3.53213029 L17.434529,4.21875 C17.9098812,3.8490317 17.9626981,3.21522888 17.5929798,2.73987677 L15.7443882,0.415933099 C15.3746699,-0.0594190141 14.7408671,-0.112235907 14.265515,0.257482394 L16.7479093,3.37367959 L14.6880502,5.01100352 L12.8394586,2.68705985 L14.8993178,1.04973592 L14.3183319,0.257482394 L2.32889525,9.76452465 C2.22326144,9.81734154 2.17044455,9.87015846 2.17044455,9.92297535 L0.0577684777,14.1483275 L0.0577684777,14.2011444 C0.0577684777,14.2539613 0.0577684777,14.2539613 0.00495158451,14.3067782 L0.00495158451,14.4652289 C0.00495158451,14.6236796 0.00495158451,14.6236796 0.0577684777,14.6764965 C0.0577684777,14.7293134 0.110585371,14.7293134 0.110585396,14.7821303 L0.163402289,14.8349472 L0.163402289,14.8349472 Z M3.06833186,10.5039613 L12.100022,3.37367959 L13.9486136,5.69762323 L4.86410652,12.8279049 L1.43100792,13.6201584 L3.06833186,10.5039613 Z" id="形状"></path>
                        </g>
                    </g>
                </svg>
            </i>
            <span>手写公式</span>
        </li>
    </ul>
    <div class="tabContent">
        <div class="math-template">
            {mathTemplate}
        </div>
        <div class="math-canvas" style="display: none">
            <div class="handle-group">
                <i class="icon undo">
                    <svg width="24px" height="17px" viewBox="0 0 24 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g fill="currentColor" fill-rule="nonzero">
                                <path d="M2.93392144,4.832146 L15.4288882,4.832146 L15.4288882,6.54636836 L2.92277899,6.54636836 L6.31522504,9.93795729 C6.53171999,10.1546053 6.6161892,10.4702951 6.53681396,10.7661092 C6.45743871,11.0619234 6.22627799,11.2929207 5.9304078,11.3720868 C5.63453761,11.4512529 5.31890767,11.3665606 5.10241272,11.1499125 L0.252020558,6.30123456 C0.0907043152,6.14083895 0,5.92274252 0,5.69525696 C0,5.46777139 0.0907043152,5.24967496 0.252020558,5.08927935 L5.10326983,0.240601411 C5.43958216,-0.0842199063 5.97416745,-0.0795745046 6.3047842,0.251042246 C6.63540096,0.581658997 6.64004636,1.11624429 6.31522504,1.45255662 L2.93392144,4.832146 Z M24,13.4032578 C24,8.66943275 20.1627133,4.832146 15.4288882,4.832146 L15.4288882,6.54636836 C19.2158437,6.54636836 22.2857776,9.61630232 22.2857776,13.4032578 L24,13.4032578 Z M24,13.4032578 L22.2857776,13.4032578 L22.2857776,15.9745913 C22.2857776,16.4479608 22.6695194,16.8317025 23.1428888,16.8317025 C23.6162583,16.8317025 24,16.4479608 24,15.9745913 L24,13.4032578 Z" id="形状"></path>
                            </g>
                        </g>
                    </svg>
                </i>
                <i class="icon redo">
                    <svg width="24px" height="17px" viewBox="0 0 24 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g transform="translate(12.000000, 8.500000) scale(-1, 1) translate(-12.000000, -8.500000) " fill="currentColor" fill-rule="nonzero">
                                <path d="M2.93392144,4.832146 L15.4288882,4.832146 L15.4288882,6.54636836 L2.92277899,6.54636836 L6.31522504,9.93795729 C6.53171999,10.1546053 6.6161892,10.4702951 6.53681396,10.7661092 C6.45743871,11.0619234 6.22627799,11.2929207 5.9304078,11.3720868 C5.63453761,11.4512529 5.31890767,11.3665606 5.10241272,11.1499125 L0.252020558,6.30123456 C0.0907043152,6.14083895 0,5.92274252 0,5.69525696 C0,5.46777139 0.0907043152,5.24967496 0.252020558,5.08927935 L5.10326983,0.240601411 C5.43958216,-0.0842199063 5.97416745,-0.0795745046 6.3047842,0.251042246 C6.63540096,0.581658997 6.64004636,1.11624429 6.31522504,1.45255662 L2.93392144,4.832146 Z M24,13.4032578 C24,8.66943275 20.1627133,4.832146 15.4288882,4.832146 L15.4288882,6.54636836 C19.2158437,6.54636836 22.2857776,9.61630232 22.2857776,13.4032578 L24,13.4032578 Z M24,13.4032578 L22.2857776,13.4032578 L22.2857776,15.9745913 C22.2857776,16.4479608 22.6695194,16.8317025 23.1428888,16.8317025 C23.6162583,16.8317025 24,16.4479608 24,15.9745913 L24,13.4032578 Z" id="形状"></path>
                            </g>
                        </g>
                    </svg>
                </i>
                <i class="icon clear">
                    <svg width="24px" height="27px" viewBox="0 0 24 27" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g fill="currentColor" fill-rule="nonzero">
                                <path d="M5.765625,20.8756541 L6.29527617,20.1907704 L5.37434594,22.059375 C5.30889504,22.1920535 5.30632933,22.3470765 5.3673538,22.4818483 C5.42837827,22.61662 5.54657321,22.7169627 5.6894622,22.7553052 L7.3173692,23.1913517 C7.48489481,23.2360908 7.663613,23.1897565 7.78829943,23.0692587 C8.34760176,22.5291424 8.75922967,22.0884448 9.02260174,21.7483285 L9.55283429,21.0634448 L8.63132267,22.9320494 C8.56587177,23.0647279 8.56330607,23.2197509 8.62433054,23.3545227 C8.68535502,23.4892944 8.80354996,23.5896371 8.94643896,23.6279796 L11.2487645,24.2448401 C11.4162902,24.2895792 11.5950084,24.2432449 11.7196948,24.1227471 C12.2789971,23.5820494 12.690625,23.1419331 12.9534157,22.8018169 L13.4836483,22.1169331 L12.5621366,23.9855378 C12.4964789,24.1183512 12.4938727,24.2736157 12.555036,24.4085578 C12.6161993,24.5435 12.7346786,24.6438819 12.8778343,24.6820494 L14.8429506,25.2087936 C15.0104762,25.2535327 15.1891944,25.2071984 15.3138808,25.0867006 C15.8731831,24.5460029 16.284811,24.1053052 16.5476018,23.765189 L17.0778343,23.0803052 L16.1563227,24.9494913 C16.0911019,25.0821942 16.0887296,25.2371292 16.1498568,25.3717668 C16.2109841,25.5064043 16.3291875,25.6065963 16.4720203,25.6448401 L18.8272529,26.2808866 L18.9319041,26.2750727 C19.293532,26.2558866 19.7237645,26.1378634 20.1266715,25.9262355 C20.9382994,25.4983285 21.4394622,24.7489099 21.5487645,23.7936773 C21.6069041,23.2890262 21.6789971,22.7430959 21.7778343,22.062282 C21.8226017,21.756468 21.8580669,21.5169331 21.9476018,20.9221657 C22.2487646,18.9239099 22.346439,18.1686773 22.4144622,17.2791424 L22.4400436,16.9419331 L22.5173692,16.862282 L22.8534157,16.8256541 C23.1066122,16.8020175 23.3446271,16.6943684 23.5295785,16.5198401 C23.8220204,16.2407703 23.9330669,15.8279796 23.8319041,15.3698401 L22.8086482,10.6936773 C22.7260901,10.3204215 22.5016715,9.93204942 22.1778343,9.6082122 C21.8603925,9.29135173 21.471439,9.05937498 21.090625,8.95704942 L18.0039971,8.12972385 L17.9423692,8.02274708 L19.3836483,2.64716569 C19.6103925,1.80065407 19.0632994,0.909956386 18.1580669,0.667514526 L15.9912064,0.0867005723 C15.0865552,-0.155741288 14.1673692,0.341933121 13.9400436,1.18844477 L12.4999273,6.56460755 L12.3929506,6.62623547 L9.17434592,5.76402615 C8.79295056,5.66170056 8.33946219,5.66867731 7.90690408,5.784375 C7.46388082,5.90297965 7.07550872,6.12739826 6.81795057,6.40937499 L3.59353199,9.94658429 C3.27725293,10.2930959 3.16678779,10.7053052 3.2795785,11.0936773 C3.39295059,11.481468 3.71155525,11.7803052 4.17609013,11.9256541 L4.54702034,12.0419331 L4.60515989,12.1477471 L4.50632267,12.5239099 C3.93074128,14.7000727 3.06504361,16.2553052 2.17027617,16.6361192 C0.874927326,17.1867006 0.182485465,17.9832122 0.0330668514,18.953561 C-0.10414246,19.8442587 0.285973828,20.7826308 1.05748547,21.4483285 L1.65806686,21.6756541 L3.69295059,22.2210029 C4.09428471,22.3285026 4.52248212,22.213696 4.8162064,21.9198401 C5.23248548,21.503561 5.54876454,21.1558866 5.765625,20.8762355 L5.765625,20.8756541 Z M20.7923692,10.0680959 C21.1778343,10.1715843 21.6086482,10.5913517 21.6853924,10.940189 L22.6272529,15.2401889 C22.6489908,15.3393283 22.6174481,15.4426271 22.5440368,15.5127122 C22.4706256,15.5827974 22.3659763,15.6095201 22.2679506,15.5832122 L4.8412064,10.9146075 C4.7431695,10.8883522 4.66592368,10.8128675 4.63741478,10.715462 C4.60890587,10.6180566 4.63326195,10.5128347 4.70167151,10.4378634 L7.66678779,7.1849564 C7.90748547,6.92100292 8.49062499,6.77216569 8.87609011,6.87565408 L12.7278343,7.9076308 C12.876788,7.94758658 13.0355137,7.92672462 13.1690837,7.84963565 C13.3026537,7.77254668 13.4001231,7.64554743 13.4400436,7.49658431 L15.0289971,1.56518895 C15.0689176,1.41622583 15.1663869,1.28922657 15.2999569,1.2121376 C15.433527,1.13504862 15.5922527,1.11418666 15.7412064,1.15414243 L17.8412064,1.71693314 C17.9901695,1.7568536 18.1171688,1.85432299 18.1942577,1.987893 C18.2713467,2.121463 18.2922087,2.28018877 18.2522529,2.42914243 L16.662718,8.36053779 C16.5798848,8.67053333 16.7638509,8.98902637 17.0737645,9.0721657 L20.7923692,10.0686773 L20.7923692,10.0680959 Z M6.88015988,18.2204215 C5.96271802,19.4506541 5.11969478,20.3756541 4.35109012,20.9948401 L4.19004361,21.1250727 L4.11271801,21.1413518 L1.71155524,20.484375 L1.63190407,20.3971657 C1.2766715,20.0111192 1.10399708,19.5512355 1.16911338,19.1273983 C1.25864826,18.5460029 1.77027618,18.0553052 2.61911337,17.6942587 C3.48364826,17.3268168 4.24934594,16.4105378 4.8789971,14.9715843 C5.15225293,14.3460029 5.39353199,13.6436773 5.59818314,12.884375 L5.7039971,12.4919331 L5.81039245,12.4303052 L21.2400436,16.5646076 L21.3039971,16.6547238 L21.2824855,16.9878634 C21.2284157,17.8215843 20.4557413,23.2396075 20.4069041,23.662282 C20.3429506,24.2186773 20.0987645,24.6157704 19.6545785,24.8721657 C19.4729745,24.9759068 19.2761935,25.0504599 19.071439,25.0930959 L18.934811,25.1128634 L17.2894622,24.6721657 L17.5958576,24.1192587 C17.821439,23.7111192 18.2132994,22.9244913 18.7702762,21.7587936 C18.8360522,21.6210215 18.8443988,21.4627614 18.7934793,21.3188349 C18.7425599,21.1749084 18.6365463,21.0571075 18.4987645,20.9913518 L18.4132994,20.9506541 C18.1631003,20.8314582 17.8635499,20.9054333 17.6976017,21.1273983 C16.7807413,22.3553052 15.9388808,23.2779797 15.1720203,23.8948401 L15.0109738,24.0244913 L14.9336482,24.0407703 L13.5016715,23.6570494 L13.8045785,23.1047238 C13.9016715,22.9279797 13.996439,22.7500727 14.0894622,22.5698401 C14.2813227,22.2018169 14.5772529,21.5942587 14.9778343,20.7489099 C15.114701,20.4606712 14.9931465,20.1160068 14.7057413,19.9773982 L14.6231831,19.9378634 C14.3725034,19.8168035 14.0711873,19.890426 13.9045785,20.1134448 C12.9888808,21.3401889 12.1476017,22.2617006 11.3807413,22.8791424 L11.2196948,23.0087936 L11.1423692,23.0250727 L9.72143895,22.6442587 L10.0243459,22.0919331 C10.112718,21.931468 10.2074855,21.7535611 10.3092297,21.5570494 C10.4999273,21.190189 10.7987645,20.5773982 11.2057413,19.7192587 C11.2710819,19.5815792 11.278728,19.4235052 11.2269803,19.2801621 C11.1752327,19.136819 11.0683779,19.0200804 10.9301599,18.9558866 L10.8394622,18.9140262 C10.5898246,18.7984574 10.2933565,18.8736662 10.1289971,19.0942587 C9.21213663,20.3221657 8.36969477,21.2465843 7.60050872,21.8657703 L7.43946222,21.9954215 L7.36213662,22.0117006 L6.47260174,21.7733285 L6.77492733,21.2215843 C6.87143895,21.0442587 6.9667878,20.8663517 7.05981105,20.6867006 C7.24992733,20.3192587 7.54876453,19.706468 7.95574129,18.8483285 C8.02106712,18.7105146 8.02884433,18.5523647 7.9773553,18.4088064 C7.92586628,18.265248 7.81934712,18.1480919 7.68132267,18.0832122 L7.59295059,18.0419331 C7.343105,17.9247151 7.04528077,17.9992927 6.88015988,18.2204215 L6.88015988,18.2204215 Z" id="形状"></path>
                            </g>
                        </g>
                    </svg>
                </i>
                <span class="line"></span>
                <label class="icon upload" for="upload-btn">
                    <svg width="24px" height="21px" viewBox="0 0 24 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g fill="currentColor" fill-rule="nonzero">
                                <path d="M9.88094454,13.8590298 L7.91094983,11.1333838 C7.64995462,10.772276 7.22680479,10.7722797 6.96581223,11.1333838 L3.33406106,16.1582033 C3.07306586,16.5193112 3.22879449,16.8120402 3.68188476,16.8120402 L10.2778119,16.8120402 L20.3212136,16.8120402 C20.7745583,16.8120402 20.9268192,16.5199513 20.6632888,16.1596415 L14.9079477,8.29069567 C14.6426727,7.92800041 14.2171502,7.93038581 13.9536199,8.29069567 L9.88094454,13.8590298 L9.88094454,13.8590298 Z" id="路径"></path>
                                <path d="M5.60547477,5.62162104 C5.60547477,6.50452073 6.32120638,7.22025234 7.20410608,7.22025234 C8.08700577,7.22025234 8.80273738,6.50452073 8.80273738,5.62162104 C8.80273738,4.73872134 8.08700577,4.02298973 7.20410608,4.02298973 C6.32120638,4.02298973 5.60547477,4.73872134 5.60547477,5.62162104 Z" id="路径"></path>
                                <path d="M1.20754093,1.62504276 L22.7924591,1.62504276 C22.5678375,1.62504276 22.3911035,1.44619173 22.3911035,1.2268058 L22.3911035,18.8089085 C22.3911035,18.5890621 22.5687155,18.4106715 22.7924591,18.4106715 L1.20754093,18.4106715 C1.4321625,18.4106715 1.60889649,18.5895226 1.60889649,18.8089085 L1.60889649,1.2268058 C1.60889649,1.44665221 1.43128457,1.62504276 1.20754093,1.62504276 Z M0.0102651964,18.8089085 C0.0102651964,19.4681892 0.544973679,20.0093028 1.20754093,20.0093028 L22.7924591,20.0093028 C23.4531843,20.0093028 23.9897348,19.4704002 23.9897348,18.8089085 L23.9897348,1.2268058 C23.9897348,0.567525054 23.4550263,0.0264114643 22.7924591,0.0264114643 L1.20754093,0.0264114643 C0.546815679,0.0264114643 0.0102651964,0.565314134 0.0102651964,1.2268058 L0.0102651964,18.8089085 Z" id="形状"></path>
                            </g>
                        </g>
                    </svg>
                    <input style="visibility: hidden" id="upload-btn" type="file">
                </label>
            </div>
            <div class="img-preview" style="display: none"></div>
            <canvas id="canvas"></canvas>
        </div>
    </div>
</div>
<div class="create-box" style="display: none">
    <span>生成公式</span>
    <button class="preview-btn">公式预览</button>
</div>
<div id="_formula_result"></div>